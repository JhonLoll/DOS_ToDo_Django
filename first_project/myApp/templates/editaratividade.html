<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Atividade</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body style="background-color:rgb(51, 51, 51);">

    <div id="container" class="container" style="margin-top: 50px; padding: 20px; color: white;">
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Cadastro Atividade</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Tarefas</a>
                <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="/tarefas/listartarefas">Listar Tarefas</a></li>
                <li><a class="dropdown-item" href="/tarefas/cadastroatividade">Cadastrar Tarefas</a></li>
                </ul>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Usuários</a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="/tarefas/listarusuarios">Listar Usuários</a></li>
                    <li><a class="dropdown-item" href="/tarefas/cadastrarusuario">Cadastrar Usuários</a></li>
                </ul>
            </li>
        </ul>
        <br>

        <div class="main">
            <h1>Edição de Atividade</h1>
            <form method="POST" action="">
                {% csrf_token %}
                {% if tarefa %}
                    <div class="mb-3">
                        <label for="titulo" class="form-label">Título</label>
                        <input type="text" class="form-control" id="titulo" name="titulo" value="{{ tarefa.titulo }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="descricao" class="form-label">Descrição</label>
                        <textarea class="form-control" id="descricao" name="descricao" rows="3" required>{{ tarefa.descricao }}</textarea>
                    </div>
                    <div class="mb-3">
                        <label for="usuario" class="form-label">Usuário</label>
                        <select class="form-select" id="usuario" name="usuario" value="{{ tarefa.usuario }}" required>
                            {% for usuario in usuarios %}
                                <option value="{{ usuario.id }}">{{ usuario.nome }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="data" class="form-label">Data de Criação</label>
                        <input type="date" class="form-control" id="data" name="data" value="{{ tarefa.data|date:'Y-m-d' }}" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Atualizar</button>
            
                {% else %}
                    <p>Não há tarefas disponíveis para edição.</p>
                {% endif %}
            </form>
        </div>
        <div class="footer" style="margin-top: 50px;">
            <span>Feito por JHR</span>
        </div>
    </div>    
</body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</html>